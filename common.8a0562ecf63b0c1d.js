"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[592],{3159:(C,u,n)=>{n.d(u,{$:()=>d});var c=n(1474),t=n(553),i=n(9467);let d=(()=>{class s{constructor(e){this.http=e}getCustomers(){return this.http.get(`${t.N.api}/clients`)}saveCustomer(e){return this.http.post(`${t.N.api}/clients/create`,e)}deleteCustomer(e){return this.http.delete(`${t.N.api}/clients/delete/${e}`)}updateCustomer(e){return this.http.put(`${t.N.api}/clients/update`,e)}customerDetails(e){return this.http.get(`${t.N.api}/clients/${e}`)}activeCustomer(e,m){const _=`${t.N.api}/clients/${m?"off":"on"}`,h=(new c.LE).set("clientId",e);return this.http.put(_,{},{params:h})}checkEmailAvailability(e){return this.http.get(`${t.N.api}/clients/check-email?email=${e}`)}static#t=this.\u0275fac=function(m){return new(m||s)(i.LFG(c.eN))};static#e=this.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},9410:(C,u,n)=>{n.d(u,{o:()=>x});var c=n(6814),t=n(9467),i=n(7474),d=n(707),s=n(9502),p=n(1474),e=n(5219);function m(a,g){1&a&&(t.TgZ(0,"th"),t._uU(1,"Acciones"),t.qZA())}function _(a,g){if(1&a&&(t.TgZ(0,"tr")(1,"th",4),t._UZ(2,"p-tableHeaderCheckbox"),t.qZA(),t.TgZ(3,"th",5),t._uU(4,"ID "),t._UZ(5,"p-sortIcon",6),t.qZA(),t.TgZ(6,"th",7),t._uU(7,"Producto "),t._UZ(8,"p-sortIcon",8),t.qZA(),t.TgZ(9,"th",9),t._uU(10,"Precio Base "),t._UZ(11,"p-sortIcon",10),t.qZA(),t.TgZ(12,"th",11),t._uU(13,"Cantidad "),t._UZ(14,"p-sortIcon",12),t.qZA(),t.TgZ(15,"th",13),t._uU(16,"Activo "),t._UZ(17,"p-sortIcon",14),t.qZA(),t.TgZ(18,"th",15),t._uU(19," Categoria "),t._UZ(20,"p-sortIcon",16),t.qZA(),t.YNc(21,m,2,0,"th"),t.qZA()),2&a){const o=t.oxw(2);t.xp6(21),t.um2(21,o.actionsEnabled?21:-1)}}function h(a,g){if(1&a){const o=t.EpF();t.TgZ(0,"td")(1,"button",18),t.NdJ("click",function(){t.CHM(o);const l=t.oxw(2).$implicit,P=t.oxw(2);return t.KtG(P.updateProduct.emit(l))}),t.qZA(),t.TgZ(2,"button",19),t.NdJ("click",function(){t.CHM(o);const l=t.oxw(2).$implicit,P=t.oxw(2);return t.KtG(P.deleteProduct.emit(l.id))}),t.qZA()()}}function E(a,g){if(1&a&&(t.TgZ(0,"tr")(1,"th"),t._UZ(2,"p-tableCheckbox",17),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.YNc(15,h,3,0,"td"),t.qZA()),2&a){const o=t.oxw().$implicit,r=t.oxw(2);t.xp6(2),t.Q6J("value",o),t.xp6(2),t.Oqu(o.id),t.xp6(2),t.Oqu(o.name),t.xp6(2),t.Oqu(o.basePrice),t.xp6(2),t.Oqu(r.showAmountBill?o.amountBill:o.amount),t.xp6(2),t.Oqu(o.active),t.xp6(2),t.hij(" ",o.category?o.category.name:"Sin categoria"," "),t.xp6(1),t.um2(15,r.actionsEnabled?15:-1)}}function v(a,g){if(1&a&&t.YNc(0,E,16,8,"tr"),2&a){const o=t.oxw(2);t.um2(0,o.products.length>0?0:-1)}}const f=()=>({"min-width":"50rem"}),T=()=>[5,10,20],O=()=>["category.name"];function M(a,g){if(1&a){const o=t.EpF();t.TgZ(0,"p-table",1),t.NdJ("selectionChange",function(l){t.CHM(o);const P=t.oxw();return t.KtG(P.selectedProducts=l)})("onRowSelect",function(){t.CHM(o);const l=t.oxw();return t.KtG(l.showDeletedProducts())})("onHeaderCheckboxToggle",function(){t.CHM(o);const l=t.oxw();return t.KtG(l.showDeletedProducts())}),t.YNc(1,_,22,1,"ng-template",2)(2,v,1,1,"ng-template",3),t.qZA()}if(2&a){const o=t.oxw();t.Q6J("value",o.products)("tableStyle",t.DdM(8,f))("paginator",!0)("rows",5)("selectionPageOnly",!0)("selection",o.selectedProducts)("rowsPerPageOptions",t.DdM(9,T))("globalFilterFields",t.DdM(10,O))}}function D(a,g){if(1&a&&t._UZ(0,"p-messages",20),2&a){const o=t.oxw();t.Q6J("value",o.messages)("enableService",!1)("closable",!1)}}let x=(()=>{class a{constructor(o){this.http=o,this.products=[],this.deleteProduct=new t.vpe,this.updateProduct=new t.vpe,this.deleteProducts=new t.vpe,this.actionsEnabled=!0,this.showAmountBill=!1,this.messages=[{severity:"info",summary:"Lista vacia",detail:"No hay productos por mostrar"}]}ngOnInit(){}showDeletedProducts(){this.deleteProducts.emit(this.selectedProducts.map(o=>o.id))}static#t=this.\u0275fac=function(r){return new(r||a)(t.Y36(p.eN))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-products-list"]],inputs:{products:"products",actionsEnabled:"actionsEnabled",showAmountBill:"showAmountBill"},outputs:{deleteProduct:"deleteProduct",updateProduct:"updateProduct",deleteProducts:"deleteProducts"},standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[["styleClass","p-datatable-striped",3,"value","tableStyle","paginator","rows","selectionPageOnly","selection","rowsPerPageOptions","globalFilterFields"],["styleClass","p-datatable-striped",3,"value","tableStyle","paginator","rows","selectionPageOnly","selection","rowsPerPageOptions","globalFilterFields","selectionChange","onRowSelect","onHeaderCheckboxToggle"],["pTemplate","header"],["pTemplate","body"],[2,"width","3rem"],["pSortableColumn","id"],["field","id"],["pSortableColumn","name"],["field","name"],["pSortableColumn","basePrice"],["field","basePrice"],["pSortableColumn","amount"],["field","amount"],["pSortableColumn","active"],["field","active"],["pSortableColumn","category.name"],["field","category.name"],[3,"value"],["pButton","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success",3,"click"],["pButton","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[3,"value","enableService","closable"]],template:function(r,l){1&r&&t.YNc(0,M,3,11,"p-table",0)(1,D,1,3),2&r&&t.um2(0,l.products.length>0?0:1)},dependencies:[c.ez,i.U$,i.iA,e.jx,i.lQ,i.fz,i.UA,i.Mo,d.hJ,d.Hq,s.$,s.V],styles:["[_nghost-%COMP%]{display:block}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0})}return a})()},7030:(C,u,n)=>{n.d(u,{U:()=>d});var c=n(553),t=n(9467),i=n(1474);let d=(()=>{class s{constructor(e){this.http=e}getProducts(){return this.http.get(`${c.N.api}/products`)}getCategories(){return this.http.get(`${c.N.api}/categories`)}saveProduct(e){return this.http.post(`${c.N.api}/products/create`,e)}deleteProduct(e){return this.http.delete(`${c.N.api}/products/delete/${e}`)}updateProduct(e){return this.http.put(`${c.N.api}/products/update`,e)}deleteProductsByList(e){return this.http.post(`${c.N.api}/products/delete-products`,e)}static#t=this.\u0275fac=function(m){return new(m||s)(t.LFG(i.eN))};static#e=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},122:(C,u,n)=>{n.d(u,{o:()=>p});var c=n(2096),t=n(7398),i=n(6306),d=n(9467),s=n(3159);let p=(()=>{class e{constructor(_){this.customerService=_}validate(_){return this.customerService.checkEmailAvailability(_.value).pipe((0,t.U)(h=>h?{emailTaken:!0}:null),(0,i.K)(()=>(0,c.of)(null)))}static#t=this.\u0275fac=function(h){return new(h||e)(d.LFG(s.$))};static#e=this.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},1212:(C,u,n)=>{n.d(u,{W:()=>t});var c=n(9467);let t=(()=>{class i{transform(s){const p=new Date(s);return`${p.getDate().toString().padStart(2,"0")}/${(p.getMonth()+1).toString().padStart(2,"0")}/${p.getFullYear()}`}static#t=this.\u0275fac=function(p){return new(p||i)};static#e=this.\u0275pipe=c.Yjl({name:"fechaFormato",type:i,pure:!0,standalone:!0})}return i})()}}]);